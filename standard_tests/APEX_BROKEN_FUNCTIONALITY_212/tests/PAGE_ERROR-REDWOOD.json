[{"STANDARD_ID":4,"TEST_ID":1786333950963082818579461529999250280,"LEVEL_ID":319367883342220103240397164810613715872,"URGENCY_LEVEL":30,"TEST_NAME":"Pages should not have unresolved critical issues","TEST_CODE":"PAGE_ERROR","STANDARD_NAME":"Broken Functionality","ACTIVE_YN":"Y","NT_NAME":"V_SVT_APEX__0_NT","QUERY_CLOB":"with maxpvi as (select application_id, \r\n                       page_id, \r\n                       max(page_view_id) max_page_view_id\r\n                  from apex_debug_messages\r\n                  group by application_id, page_id),\r\n     msglvl1 as (select adm.application_id, \r\n                        adm.page_id, \r\n                        adm.page_view_id, \r\n                        adm.message_level,\r\n                        max(message) max_message\r\n                from maxpvi\r\n                inner join apex_debug_messages adm on maxpvi.max_page_view_id = adm.page_view_id\r\n                                                   and adm.message_level in (1)\r\n                group by adm.application_id, adm.page_id, adm.page_view_id, adm.message_level)\r\nselect 'N' pass_yn,\r\n       aap.workspace,\r\n       aap.application_id, \r\n       aap.page_id,\r\n       aap.created_by,\r\n       aap.created_on,\r\n       aap.last_updated_by,\r\n       aap.last_updated_on,\r\n       apex_string.format('Page `%0` (app %1, page %2) has a critical (message level %5) error: `%3`, page_view_id : `%4` (from apex_debug_messages)', \r\n        p0 => aap.page_name, \r\n        p1 => aap.application_id,\r\n        p2 => aap.page_id,\r\n        p3 => substr(msglvl1.max_message,1,100),\r\n        p4 => msglvl1.page_view_id,\r\n        p5 => msglvl1.message_level) validation_failure_message,\r\n       apex_string.format('Page `%0` (app %1, page %2) has a critical error', \r\n        p0 => aap.page_name, \r\n        p1 => aap.application_id,\r\n        p2 => aap.page_id) issue_title,\r\n       aap.page_id component_id,\r\n       null parent_component_id,\r\n       aap.page_name,\r\n       aap.page_mode,\r\n       msglvl1.max_message,\r\n       msglvl1.page_view_id,\r\n       msglvl1.message_level\r\nfrom msglvl1 \r\ninner join apex_application_pages aap on msglvl1.application_id = aap.application_id\r\n                                      and msglvl1.page_id = aap.page_id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tand aap.page_id not in (101)\r\nleft outer join apex_application_build_options aabo2 on  aabo2.build_option_name = aap.build_option\r\n                                                     and aabo2.application_id = aap.application_id\r\nwhere aap.workspace = svt_preferences.get_preference ('SVT_DEFAULT_WORKSPACE')\r\nand coalesce(aabo2.status_on_export,'NA') != 'Exclude'","STD_UPDATED_DATE":"2023-10-09T22:22:07.340841Z","SRC_RECENT_CHANGE_YN":"N","MV_DEPENDENCY":null,"SVT_COMPONENT_TYPE_ID":4,"COMPONENT_NAME":"APEX_APPLICATION_PAGES","EXPLANATION":"Looking for pages associated with message\\_level 1 issues logged in apex\\_debug\\_messages","FIX":"Once the page critical error is resolved, run the page in debug mode to resolve the error","VERSION_NUMBER":1.4,"VERSION_DB":"REDWOOD","DISPLAY_SEQUENCE":420,"ISSUE_CATEGORY":"APEX","WORKSPACE":null}]    
