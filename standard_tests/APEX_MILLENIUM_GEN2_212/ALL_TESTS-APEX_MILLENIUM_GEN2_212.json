{"std_test":{"standard":{"standard_id":7733331464110079685447791267224499648,"standard_name":"Millenium Gen2","description":"Tests that are specific to the Millenium Gen2 project","compatibility_mode_id":1,"created":"2023-09-20T21:40:41.093000Z","created_by":"HAYDEN.H.HUDSON@ORACLE.COM","updated":"2023-09-20T21:40:41.093000Z","updated_by":"HAYDEN.H.HUDSON@ORACLE.COM"}},"test":[{"test_id":11179883970198268684440661735445787117,"test_name":"These URL endpoints are deprecated","standard_id":7733331464110079685447791267224499648,"display_sequence":null,"query_clob":"select 'N' pass_yn,\r\n       aa.workspace,\r\n       aa.application_id, \r\n       null page_id,\r\n       aa.created_by,\r\n       aa.created_on,\r\n       aa.last_updated_by,\r\n       aa.last_updated_on,\r\n       apex_string.format('Application `%0` (app %1) is using %2 deprecated ALVA end point(s)', \r\n        p0 => aa.application_name, \r\n        p1 => aa.application_id,\r\n        p2 => ue.url_endpoints) validation_failure_message,\r\n       apex_string.format('Application `%0` is using deprecated ALVA end points (app %1) ', \r\n        p0 => aa.application_name, \r\n        p1 => aa.application_id) issue_title,\r\n       aa.application_id component_id,\r\n       null parent_component_id,\r\n       aa.application_name,\r\n       aa.alias,\r\n       aa.availability_status,\r\n       ue.url_endpoints\r\nfrom apex_applications aa\r\ninner join (select aawsm.application_id, count(*) url_endpoints\r\n            from apex_appl_web_src_modules aawsm \r\n            inner join apex_workspace_remote_servers awrs on  aawsm.remote_server_static_id = awrs.remote_server_static_id\r\n            where awrs.base_url in ('https://ncygdjuof5g55ya3vehx3jzbeq.apigateway.us-ashburn-1.oci.customer-oci.com/mock', \r\n                                    'https://ncygdjuof5g55ya3vehx3jzbeq.apigateway.us-ashburn-1.oci.customer-oci.com/administration', \r\n                                    'https://oke-oc1-iad-alva-dev-0.ml-api.us-1.cernersvc.net')\r\n            group by aawsm.application_id) ue on ue.application_id = aa.application_id\r\nwhere aa.workspace = svt_preferences.get('SVT_WORKSPACE')","test_code":"INVLD_END_POINTS","level_id":319367883342218894314577550181439009696,"mv_dependency":null,"svt_component_type_id":1,"explanation":"The following URL end points are deprecatedon EOD1 :\r\n\r\n1.  https://ncygdjuof5g55ya3vehx3jzbeq.apigateway.us-ashburn-1.oci.customer-oci.com/mock\r\n2.  https://ncygdjuof5g55ya3vehx3jzbeq.apigateway.us-ashburn-1.oci.customer-oci.com/administration\r\n3.  https://oke-oc1-iad-alva-dev-0.ml-api.us-1.cernersvc.net\r\n\r\nThey need to be eliminated and updated to use the rest catalog:\r\n\r\n```\r\n         \"catalogName\": \"Gen2\",                                         \r\n         \"apiName\": \"Patient Administration Service\"\r\n```","fix":"Update the end points","version_number":1,"version_db":"REDWOOD"},{"test_id":7738479039427222777611915532314126608,"test_name":"Button Static IDs should be correctly named","standard_id":7733331464110079685447791267224499648,"display_sequence":null,"query_clob":"select case when lower(aapb.button_static_id) like 'btn%'\r\n            then 'Y'\r\n            else 'N'\r\n            end pass_yn,\r\n       aapb.workspace,\r\n       aapb.application_id, \r\n       aapb.page_id,\r\n       null created_by,\r\n       null created_on,\r\n       aapb.last_updated_by,\r\n       aapb.last_updated_on,\r\n       apex_string.format('Button static id `%3` (app %1, page %2) should be prefixed with `btn`', \r\n        p0 => aapb.button_name, \r\n        p1 => aapb.application_id,\r\n        p2 => aapb.page_id,\r\n        p3 => aapb.button_static_id) validation_failure_message,\r\n       apex_string.format('Button static id `%3` should be prefixed with `btn` (app %1, page %2, name `%0`, button id %4)', \r\n        p0 => aapb.button_name, \r\n        p1 => aapb.application_id,\r\n        p2 => aapb.page_id,\r\n        p3 => aapb.button_static_id,\r\n\t\t\t\tp4 => aapb.button_id) issue_title,\r\n       aapb.button_id component_id,\r\n       null parent_component_id,\r\n       aapb.button_name,\r\n       aapb.button_template_options,\r\n       aapb.button_is_hot,\r\n       aapb.label,\r\n       aapb.database_action,\r\n       aapb.button_static_id\r\nfrom apex_application_page_buttons aapb\r\ninner join apex_applications aa on aapb.application_id = aa.application_id\r\ninner join apex_application_pages aap on aap.page_id = aapb.page_id\r\n                                      and aap.application_id = aapb.application_id\r\nleft outer join apex_application_build_options aabo1 on  aabo1.build_option_name = aap.build_option\r\n                                                     and aabo1.application_id = aap.application_id\r\nleft outer join apex_application_build_options aabo2 on  aabo2.build_option_name = aapb.build_option\r\n                                                     and aabo2.application_id = aapb.application_id\r\nwhere aapb.workspace = svt_preferences.get('SVT_WORKSPACE')\r\nand coalesce(aabo1.status_on_export,'NA') != 'Exclude'\r\nand coalesce(aabo2.status_on_export,'NA') != 'Exclude'\r\nand aapb.button_static_id is not null","test_code":"ALPH_BTN_STC_ID_NM","level_id":319367883342220103240397164810613715872,"mv_dependency":null,"svt_component_type_id":8,"explanation":"Button static ids should be prefixed with \\`btn\\`","fix":null,"version_number":1.3,"version_db":"REDWOOD"},{"test_id":7733331464111288611267405896399205824,"test_name":"Region Static IDs should be correctly named","standard_id":7733331464110079685447791267224499648,"display_sequence":null,"query_clob":"select case when lower(aapr.static_id) like 'rgn%'\r\n            then 'Y'\r\n            else 'N'\r\n            end pass_yn,\r\n       aapr.workspace,\r\n       aapr.application_id, \r\n       aapr.page_id,\r\n       null created_by,\r\n       null created_on,\r\n       aapr.last_updated_by,\r\n       aapr.last_updated_on,\r\n       apex_string.format('Region static id `%3` (app %1, page %2) should be prefixed with `rgn_`', \r\n        p0 => aapr.region_name, \r\n        p1 => aapr.application_id,\r\n        p2 => aapr.page_id,\r\n        p3 => aapr.static_id) validation_failure_message,\r\n       apex_string.format('Region static id `%3` should be prefixed with `rgn_` (app %1, page %2, region name `%0`, region id %4)', \r\n        p0 => aapr.region_name, \r\n        p1 => aapr.application_id,\r\n        p2 => aapr.page_id,\r\n        p3 => aapr.static_id,\r\n\t\t\t\tp4 => aapr.region_id) issue_title,\r\n       aapr.region_id component_id,\r\n       null parent_component_id,\r\n       aapr.region_name,\r\n       aapr.template,\r\n       aapr.display_position,\r\n       aapr.source_type,\r\n       aapr.component_template_options,\r\n       aapr.report_template,\r\n       aapr.static_id\r\nfrom apex_application_page_regions aapr\r\ninner join apex_applications aa on aapr.application_id = aa.application_id\r\ninner join apex_application_pages aap on aap.page_id = aapr.page_id\r\n                                      and aap.application_id = aapr.application_id\r\nleft outer join apex_application_build_options aabo1 on  aabo1.build_option_name = aap.build_option\r\n                                                     and aabo1.application_id = aap.application_id\r\nleft outer join apex_application_build_options aabo2 on  aabo2.build_option_name = aapr.build_option\r\n                                                     and aabo2.application_id = aapr.application_id\r\nwhere aapr.workspace = svt_preferences.get('SVT_WORKSPACE')\r\nand coalesce(aabo1.status_on_export,'NA') != 'Exclude'\r\nand coalesce(aabo2.status_on_export,'NA') != 'Exclude'\r\nand aapr.static_id is not null\r\nand aa.owner not in ('SVT','AST')","test_code":"ALPH_RGN_NAMING","level_id":319367883342220103240397164810613715872,"mv_dependency":null,"svt_component_type_id":5,"explanation":"Region static ids should be prefixed with \\`rgn\\_\\`","fix":"Correct the region static id name","version_number":1.2,"version_db":"REDWOOD"},{"test_id":7815139285721551387859340914820654198,"test_name":"Applications should have the correct error handling function set","standard_id":7733331464110079685447791267224499648,"display_sequence":null,"query_clob":"select case when lower(aa.error_handling_function) = 'aha_apex_global_event.handle_apex_error'\r\n            then 'Y'\r\n            else 'N'\r\n            end pass_yn,\r\n       aa.workspace,\r\n       aa.application_id, \r\n       null page_id,\r\n       aa.created_by,\r\n       aa.created_on,\r\n       aa.last_updated_by,\r\n       aa.last_updated_on,\r\n       apex_string.format('Application `%0` (app %1) has an incorrect error_handler', \r\n        p0 => aa.application_name, \r\n        p1 => aa.application_id) validation_failure_message,\r\n       apex_string.format('Application `%0` (app %1) should have `aha_apex_global_event.handle_apex_error` as its error handler (currently `%2`)', \r\n        p0 => aa.application_name, \r\n        p1 => aa.application_id,\r\n        p2 => aa.error_handling_function) issue_title,\r\n       aa.application_id component_id,\r\n       null parent_component_id,\r\n       aa.application_name,\r\n       aa.alias,\r\n       aa.availability_status,\r\n       aa.error_handling_function\r\nfrom apex_applications aa\r\nwhere aa.workspace = svt_preferences.get('SVT_WORKSPACE')\r\nand aa.owner not in ('SVT','AST')","test_code":"ALPH_ERROR_HANDLING","level_id":319367883342220103240397164810613715872,"mv_dependency":null,"svt_component_type_id":1,"explanation":"Applications should have \\`aha\\_apex\\_global\\_event.handle\\_apex\\_error\\` set as their error handler","fix":"Correct the error handler","version_number":1.1,"version_db":"REDWOOD"},{"test_id":7733982620128722213001885129780761859,"test_name":"Application Processes should be correctly named","standard_id":7733331464110079685447791267224499648,"display_sequence":null,"query_clob":"select case when upper(aap.process_name) like 'AP%'\r\n            then 'Y'\r\n            else 'N'\r\n            end pass_yn,\r\n       aap.workspace,\r\n       aap.application_id, \r\n       null page_id,\r\n       null created_by,\r\n       null created_on,\r\n       aap.last_updated_by,\r\n       aap.last_updated_on,\r\n       apex_string.format('Application Process `%0` (app %1) should be prefixed with `AP_`', \r\n        p0 => aap.process_name, \r\n        p1 => aap.application_id) validation_failure_message,\r\n       apex_string.format('Application Process `%0` (app %1) should be prefixed with `AP_`', \r\n        p0 => aap.process_name, \r\n        p1 => aap.application_id) issue_title,\r\n       aap.application_process_id component_id,\r\n       null parent_component_id,\r\n       aap.process_name\r\nfrom apex_application_processes aap\r\ninner join apex_applications aa on aap.application_id = aa.application_id\r\nleft outer join apex_application_build_options aabo2 on  aabo2.build_option_name = aap.build_option\r\n                                                     and aabo2.application_id = aap.application_id\r\nwhere aap.workspace = svt_preferences.get('SVT_WORKSPACE')\r\nand coalesce(aabo2.status_on_export,'NA') != 'Exclude'\r\nand aa.owner not in ('SVT','AST')","test_code":"ALPH_AP_NAMING","level_id":319367883342220103240397164810613715872,"mv_dependency":null,"svt_component_type_id":50,"explanation":"Application Processes should be prefixed with \\`AP\\_\\`","fix":"Correct the application name","version_number":1.2,"version_db":"REDWOOD"},{"test_id":7733982620127513287182270500606055683,"test_name":"Application Items should be correctly named","standard_id":7733331464110079685447791267224499648,"display_sequence":null,"query_clob":"select case when aai.item_name like 'AI%'\r\n            then 'Y'\r\n            else 'N'\r\n            end pass_yn,\r\n       aai.workspace,\r\n       aai.application_id, \r\n       null page_id,\r\n       null created_by,\r\n       null created_on,\r\n       aai.last_updated_by,\r\n       aai.last_updated_on,\r\n       apex_string.format('Application Item `%0` (app %1) should be prefixed with `AI_`', \r\n        p0 => aai.item_name, \r\n        p1 => aai.application_id) validation_failure_message,\r\n       apex_string.format('Application Item `%0` should be prefixed with `AI_` (app %1, item id %2)', \r\n        p0 => aai.item_name, \r\n        p1 => aai.application_id,\r\n\t\t\t\tp2 => aai.application_item_id) issue_title,\r\n       aai.application_item_id component_id,\r\n       null parent_component_id,\r\n       aai.item_name\r\nfrom apex_application_items aai\r\ninner join apex_applications aa on aai.application_id = aa.application_id\r\nleft outer join apex_application_build_options aabo2 on  aabo2.build_option_name = aai.build_option\r\n                                                     and aabo2.application_id = aai.application_id\r\nwhere aai.workspace = svt_preferences.get('SVT_WORKSPACE')\r\nand coalesce(aabo2.status_on_export,'NA') != 'Exclude'\r\nand aa.owner not in ('SVT','AST')","test_code":"ALPH_AI_NAMING","level_id":319367883342220103240397164810613715872,"mv_dependency":null,"svt_component_type_id":14,"explanation":"Application Items should be prefixed with \\`AI\\_\\`","fix":"Change the Application Item name","version_number":1.3,"version_db":"REDWOOD"},{"test_id":12299189488753028956340073365699698481,"test_name":"Time formats should be set in Globalization Attributes","standard_id":7733331464110079685447791267224499648,"display_sequence":null,"query_clob":"select case when date_format = '&AI_FMT_DATE.'\r\n          and date_time_format = '&AI_FMT_DATETIME.'\r\n          and timestamp_format = '&AI_FMT_TIMESTAMP.'\r\n          and timestamp_tz_format = '&AI_FMT_TIMESTAMP_TZ.'\r\n          then 'Y'\r\n          else 'N'\r\n          end pass_yn,\r\n       aa.workspace,\r\n       aa.application_id, \r\n       null page_id,\r\n       aa.created_by,\r\n       aa.created_on,\r\n       aa.last_updated_by,\r\n       aa.last_updated_on,\r\n       apex_string.format('Application `%0` (app %1) has incorrect time formats set [`%2`, `%3`, `%4`, `%5`]', \r\n        p0 => aa.application_name, \r\n        p1 => aa.application_id,\r\n\t\t\t\tp2 => date_format, \r\n\t\t\t  p3 => date_time_format, \r\n\t\t\t  p4 => timestamp_format, \r\n\t\t\t  p5 => timestamp_tz_format) validation_failure_message,\r\n       apex_string.format('Application `%0` (app %1) has incorrect time formats set', \r\n        p0 => aa.application_name, \r\n        p1 => aa.application_id) issue_title,\r\n       aa.application_id component_id,\r\n       null parent_component_id,\r\n       aa.application_name,\r\n       aa.alias,\r\n       aa.availability_status,\r\n\t\t\t date_format, \r\n\t\t\t date_time_format, \r\n\t\t\t timestamp_format, \r\n\t\t\t timestamp_tz_format\r\nfrom apex_applications aa\r\ninner join v_svt_stds_applications esa on aa.application_id = esa.apex_app_id\r\n                                       and esa.type_code not in ('DEVUTIL')\r\nwhere aa.workspace = svt_preferences.get('SVT_WORKSPACE')","test_code":"GLOBAL_TIME_FORMATS","level_id":319367883342220103240397164810613715872,"mv_dependency":null,"svt_component_type_id":1,"explanation":"It's important to standardize how we handle date time values","fix":"Go to Application Definition > Globalization and set the followin values\r\n\r\n1.  Application Date Dormat should be '&AI\\_FMT\\_DATE.'\r\n2.  Application Date Time Format should be '&AI\\_FMT\\_DATETIME.'\r\n3.  Application Timestamp Format should be '&AI\\_FMT\\_TIMESTAMP.'\r\n4.  Application Timestamp Timezone Format should be '&AI\\_FMT\\_TIMESTAMP\\_TZ.'","version_number":1.1,"version_db":"REDWOOD"}]}    
