[{"STANDARD_ID":2,"TEST_ID":929572187041365287904786184354966400,"LEVEL_ID":319367883342220103240397164810613715872,"URGENCY_LEVEL":30,"TEST_NAME":"Classic Report column headings are unique per region","TEST_CODE":"C_COL_UNQ_HEADNG","STANDARD_NAME":"Accessibility","ACTIVE_YN":"Y","NT_NAME":"V_SVT_APEX__0_NT","QUERY_CLOB":"with aapr as (select   row_number( ) over (partition by application_id,page_id,region_id,trim(lower(heading)) order by display_sequence nulls last) value_dup_cnt,\r\n                       application_id,\r\n                       page_id,\r\n                       region_id,\r\n                       region_name,\r\n                       heading,\r\n                       display_sequence,\r\n                       build_option,\r\n                       last_updated_by,\r\n                       last_updated_on,\r\n                       column_alias,\r\n                       region_report_column_id,\r\n\t\t\t\t\t\t\t         workspace\r\n            from apex_application_page_rpt_cols\r\n            where column_is_hidden = 'No'\r\n            )\r\nselect case when aapr.value_dup_cnt > 1 \r\n           then 'N' \r\n           else 'Y'\r\n           end pass_yn,                          \r\n       aapr.application_id, \r\n       aapr.page_id,\r\n       null created_by,\r\n       null created_on,\r\n       aapr.last_updated_by,\r\n       aapr.last_updated_on,\r\n       apex_string.format('Classic Report Column `%0` (col `%3`, app %1, page %2) is not unique. Column heading need to be unique for accessibility.', \r\n        p0 => aapr.heading, \r\n        p1 => aapr.application_id,\r\n        p2 => aapr.page_id,\r\n        p3 => aapr.column_alias) validation_failure_message,\r\n       apex_string.format('Classic Report Column `%0` (col `%3`, app %1, page %2) is not unique.', \r\n        p0 => aapr.heading, \r\n        p1 => aapr.application_id,\r\n        p2 => aapr.page_id,\r\n        p3 => aapr.column_alias) issue_title,\r\n       aapr.region_report_column_id component_id,\r\n       null parent_component_id,\r\n       aapr.heading,\r\n       aapr.column_alias\r\nfrom aapr\r\ninner join apex_application_pages aap on aap.page_id = aapr.page_id and aap.application_id = aapr.application_id\r\nleft outer join apex_application_build_options aabo1 on aabo1.build_option_name = aap.build_option\n                                                     and aabo1.application_id = aap.application_id\r\nleft outer join apex_application_build_options aabo2 on aabo2.build_option_name = aapr.build_option\n                                                     and aabo2.application_id = aapr.application_id\r\nwhere aapr.workspace = svt_preferences.get_preference ('SVT_DEFAULT_WORKSPACE')\r\nand coalesce(aabo1.status_on_export,'NA') != 'Exclude'\r\nand coalesce(aabo2.status_on_export,'NA') != 'Exclude'","STD_UPDATED_DATE":"2023-09-12T19:33:07.074281Z","SRC_RECENT_CHANGE_YN":"Y","MV_DEPENDENCY":null,"SVT_COMPONENT_TYPE_ID":21,"COMPONENT_NAME":"APEX_APPLICATION_PAGE_RPT_COLS","EXPLANATION":"WCAG 2.0/2.1 - 'Y'.3.1 Info and Relationships, 2.4.6 Headings and Labels, 2.5.3 Label in Name, 3.3.2 Labels or Instructions, 4.1.2 Name, Role, ValueChecking that all apex object (regions, items, report column headings) are labeled appropriately","FIX":null,"VERSION_NUMBER":1,"WORKSPACE":"REDWOOD"}]    
