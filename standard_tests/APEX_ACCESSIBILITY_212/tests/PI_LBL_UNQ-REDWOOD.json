{"std_test":{"standard":{"standard_id":2,"standard_name":"Accessibility","description":"These are standards to maintain Accessibility.","compatibility_mode_id":1,"created":"2023-04-12T05:12:01.456000Z","created_by":"AST","updated":"2023-04-12T05:12:01.456000Z","updated_by":"AST"}},"test":[{"test_id":922545629998623802417388808296495116,"test_name":"Page item labels  + region names must be unique","standard_id":2,"display_sequence":220,"query_clob":"with aapi as (select   dense_rank() over (partition by application_id, page_id, region, trim(lower(label)) order by display_sequence nulls last) therank,\r\n                       application_id, \r\n                       page_id, \r\n                       item_name,\r\n                       label,\r\n                       display_sequence,\r\n                       build_option, \r\n                       item_id,\r\n                       last_updated_on,\r\n                       last_updated_by,\r\n                        workspace,\r\n                        region\r\n              from apex_application_page_items\r\n              where display_as_code not in ('NATIVE_HIDDEN')\r\n             )\r\nselect 'N' pass_yn,                          \r\n       aapi.application_id, \r\n       aapi.page_id,\r\n       null created_by,\r\n       null created_on,\r\n       aapi.last_updated_by,\r\n       aapi.last_updated_on,\r\n       apex_string.format('There is more than one Page Item `%3` (`%0`) in a region named `%4` on page %2 (app %1). Page item labels must be unique for accessibility.', \r\n        p0 => aapi.item_name, \r\n        p1 => aapi.application_id,\r\n        p2 => aapi.page_id,\r\n        p3 => aapi.label,\r\n        p4 => aapi.region) validation_failure_message,\r\n       apex_string.format('There is > 1 Page Item label `%0` (`%3`) in a region called `%4` on page %2 (app %1).', \r\n        p0 => aapi.label, \r\n        p1 => aapi.application_id,\r\n        p2 => aapi.page_id,\r\n        p3 => aapi.item_name,\r\n        p4 => aapi.region) issue_title,\r\n       aapi.item_id component_id,\r\n       null parent_component_id,\r\n       aapi.item_name,\r\n       aapi.workspace,\r\n       aapi.region,\r\n       aapi.therank\r\nfrom aapi\r\ninner join apex_application_pages aap on aap.page_id = aapi.page_id and aap.application_id = aapi.application_id\r\nleft outer join apex_application_build_options aabo1 on aabo1.build_option_name = aap.build_option\r\n                                                     and aabo1.application_id = aap.application_id\r\nleft outer join apex_application_build_options aabo2 on aabo2.build_option_name = aapi.build_option\r\n                                                     and aabo2.application_id = aapi.application_id\r\nwhere aapi.workspace = svt_preferences.get('SVT_WORKSPACE')\r\nand coalesce(aabo1.status_on_export,'NA') != 'Exclude'\r\nand coalesce(aabo2.status_on_export,'NA') != 'Exclude'\r\nand aapi.therank = 2","test_code":"PI_LBL_UNQ","level_id":319367883342220103240397164810613715872,"mv_dependency":null,"svt_component_type_id":7,"explanation":"Screen-readers announce page items in the context of their parent region. Consequently, the combination of page item labels and region names must be unique per page.\r\n\r\nThis test is tied to the following WCAG Codes :\r\n\r\n1.  2.5.3(A) : Label in Name: For user interface components with labels that include text or images of text, the name contains the text that is presented visually.\r\n2.  3.3.2(A) : Labels or Instructions:  \r\n    Labels or instructions are provided when content requires user input.\r\n3.  4.1.2(A) : Name, Role, Value : For all user interface components (including but not limited to: form elements, links and components generated by scripts), the name and role can be programmatically determined; states, properties, and values that can be set by the user can be programmatically set; and notification of changes to these items is available to user agents, including assistive technologies.\r\n4.  2.4.6(AA) : Headings and labels describe topic or purpose.","fix":"Change the page item label or the region name to be unique","version_number":1.5,"version_db":"REDWOOD"}]}    
