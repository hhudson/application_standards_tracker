[{"ID":298261660297559066749993614614253461489,"STANDARD_ID":2,"TEST_TYPE":"FAIL_REPORT","TEST_NAME":"Column image links should have alt text","DISPLAY_SEQUENCE":130,"QUERY_CLOB":"select a10.pass_yn,\r\n       a10.application_id,\r\n       a10.page_id,\r\n       a10.region_name,\r\n       a10.column_alias,\r\n       a10.report_label,\r\n       a10.column_linktext,\r\n       a10.column_link_attr,\r\n       a10.created_by, \r\n       a10.created_on, \r\n       a10.updated_by LAST_updated_by, \r\n       a10.updated_on LAST_updated_on,\r\n       case when a10.pass_yn = 'N'\r\n            then apex_string.format(\r\n                    p_message => q'^Link Column %1, in report %0, is missing an aria-label. \r\n                    • Report Label/Heading : %2\r\n                    • Link text : %3\r\n                    • Link attributes : %4.\r\n                    • Suggestion : \r\n                         - remove `alt=\"\"` from the Link Text\r\n                         - add `aria-label=\"edit #YOUR_COLUMN#\"` to the Link Attributes\r\n                    ^',\r\n                    p0 => a10.region_name,\r\n                    p1 => a10.column_alias,\r\n                    p2 => a10.report_label,\r\n                    p3 => a10.column_linktext,\r\n                    p4 => a10.column_link_attr\r\n                    )\r\n            end as validation_failure_message,\r\n       case when a10.pass_yn = 'N'\r\n            then apex_string.format(p_message => q'^Column %1 (page %0, app %2) is missing an aria-label attribute^',\r\n                                    p0 => a10.page_id,\r\n                                    p1 => a10.column_alias,\r\n                                    p2 => a10.application_id\r\n                                    )\r\n            end as issue_title,\r\n      a10.component_id,\r\n      a10.parent_component_id\r\nfrom (\r\n     select \r\n     case when ic1.column_linktext is null\r\n          then 'Y'\r\n          when ic1.column_linktext like '%.png%'\r\n          then case when ic1.column_linktext like '%alt=\"\"%'\r\n                    then 'N'\r\n                    when ic1.column_linktext not like '%aria-label%'\r\n                    then case when ic1.column_link_attr is null \r\n                            then 'N'\r\n                            when ic1.column_link_attr not like '%aria-label%'\r\n                            then 'N'\r\n                            else 'Y'\r\n                            end\r\n                    else 'Y'\r\n                    end\r\n          else 'Y'\r\n          end pass_yn,\r\n     ic1.application_id,\r\n     ic1.page_id,\r\n     ic1.region_name,\r\n     ic1.column_alias,\r\n     ic1.report_label,\r\n     ic1.column_linktext,\r\n     ic1.column_link_attr,\r\n     ic1.column_id component_id,\r\n     null parent_component_id,\r\n     coalesce(ic1.created_by, app.created_by) created_by, \r\n     coalesce(ic1.created_on, app.created_on) created_on, \r\n     coalesce(ic1.updated_by, app.LAST_updated_by) updated_by, \r\n     coalesce(ic1.updated_on, app.LAST_updated_on) updated_on\r\n     from apex_application_page_ir_col ic1\r\n     inner join apex_application_pages app on  app.page_id = ic1.page_id\r\n                                           and app.application_id = ic1.application_id\r\n     inner join  v_apex_applications aa on ic1.application_id = aa.application_id\r\n                                        and aa.availability_status != 'Unavailable'\r\n     and ic1.column_linktext is not null\r\n) a10","OWNER":"SVT","STANDARD_CODE":"COL_ALT_TEXT","ACTIVE_YN":"Y","LEVEL_ID":299712008894515240349432973583165583501,"MV_DEPENDENCY":null,"SVT_COMPONENT_TYPE_ID":6,"EXPLANATION":"Column image links should have accessible alt text : Link columns in reports that do not feature text (eg, they have the pencil symbol) should include “Alt” text. This alt-text will be displayed by a screen-reader in the web-elements rotor, “links” section.","FIX":"Add some descriptive text to your alt text. You are encouraged to use substitution variables.\r\n\r\nFor eg:\r\n\r\n`<img src=\"#APEX_FILES#apex-edit-pencil.png\" alt=\"edit #NAMES\">`","VERSION_NUMBER":1,"WORKSPACE":"REDWOOD"},{"ID":312153571812426193655816434380775773898,"STANDARD_ID":2,"TEST_TYPE":"FAIL_REPORT","TEST_NAME":"Region should have Row Header","DISPLAY_SEQUENCE":140,"QUERY_CLOB":"with apx_rl as (\r\n       select case when substr(version_no,1, 2) >= 21\r\n              then 'Y'\r\n              else 'N'\r\n              end compatible_apx_version\r\n       from apex_release\r\n       ),\r\nrpt_cols as (\r\n       select pic.application_id, \r\n              pic.page_id, \r\n              pic.region_name, \r\n              pic.use_as_row_header,\r\n              pic.region_id, \r\n              'IR' report_type,\r\n              pic.created_by,\r\n              pic.created_on,\r\n              pic.updated_by,\r\n              pic.updated_on,\r\n              pic.column_id\r\n       from v_apex_application_page_ir_col pic\r\n       union all\r\n       select pig.application_id, \r\n              pig.page_id, \r\n              pig.region_name, \r\n              pig.use_as_row_header,\r\n              pig.region_id, \r\n              'IG' report_type,\r\n              null created_by,\r\n              null created_on,\r\n              pig.LAST_updated_by,\r\n              pig.LAST_updated_on,\r\n              pig.column_id\r\n       from apex_appl_page_ig_columns pig \r\n       union all\r\n       select prc.application_id, \r\n              prc.page_id, \r\n              prc.region_name, \r\n              prc.use_as_row_header,\r\n              prc.region_id, \r\n              'C' report_type,\r\n              null created_by,\r\n              null created_on,\r\n              prc.LAST_updated_by,\r\n              prc.LAST_updated_on,\r\n              prc.region_report_column_id\r\n       from apex_application_page_rpt_cols prc \r\n),\r\nrpt_cols_fm as (\r\n       select rc.application_id, \r\n              rc.page_id, \r\n              rc.region_name, \r\n              rc.use_as_row_header,\r\n              rc.region_id, \r\n              rc.report_type,\r\n              apex_string.format(\r\n              p_message => q'^Region %0 is missing a row header\r\n              • App : %1\r\n              • Page : %2\r\n              • Region id : %3\r\n              • Explanation : \r\n                     Regions that support row headers should have a column with the \"Use as Row Header\" attribute set to Yes for accessibility reasons.\r\n              ^',\r\n              p0 => rc.region_name,\r\n              p1 => rc.application_id,\r\n              p2 => rc.page_id,\r\n              p3 => rc.region_id\r\n              ) validation_failure_message,\r\n              apex_string.format(\r\n              p_message => q'^Region \"%0\" (app %1, page %2) is missing a row header^',\r\n              p0 => rc.region_name,\r\n              p1 => rc.application_id,\r\n              p2 => rc.page_id\r\n\r\n              ) issue_title,\r\n              app.created_by,\r\n              app.created_on,\r\n              coalesce(pr.LAST_updated_by, app.LAST_updated_by) LAST_updated_by, \r\n              coalesce(pr.LAST_updated_on, app.LAST_updated_on) LAST_updated_on,\r\n              rc.column_id\r\n       from rpt_cols rc \r\n       inner join apex_application_page_regions pr on  pr.region_id = rc.region_id\r\n                                                   and pr.page_id = rc.page_id \r\n                                                   and pr.application_id = rc.application_id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t and coalesce(pr.condition_type_code,'NA') != 'NEVER'\r\n       inner join apex_application_pages app on  app.page_id        = rc.page_id\r\n                                             and app.application_id = rc.application_id\r\n       inner join  v_apex_applications aa on  rc.application_id     = aa.application_id\r\n                                          and aa.availability_status != 'Unavailable'\r\n)\r\nselect case when ar.compatible_apx_version = 'Y'\r\n            then case when count(case when rcf.use_as_row_header = 'Yes'\r\n                                      then 'x'\r\n                                      when rcf.use_as_row_header = 'Y'\r\n                                      then 'x'\r\n                                      end) > 0\r\n                      then 'Y'\r\n                      else case when count(rcf.column_id) = 1\r\n                                then 'Y'\r\n                                else 'N'\r\n                                end\r\n                      end \r\n            else 'Y'\r\n            end pass_yn,\r\n       rcf.application_id, \r\n       rcf.page_id, \r\n       rcf.region_name, \r\n       rcf.region_id,\r\n       rcf.report_type,\r\n       rcf.created_by,\r\n       rcf.created_on,\r\n       rcf.LAST_updated_by, \r\n       rcf.LAST_updated_on,\r\n       rcf.validation_failure_message,\r\n       rcf.issue_title,\r\n       apr.report_template,\r\n       rcf.column_id component_id,\r\n       null parent_component_id\r\nfrom rpt_cols_fm rcf\r\ninner join apex_application_page_regions apr on rcf.region_id = apr.region_id\r\n                                             and apr.report_template not in ('List Item')\r\ncross join apx_rl ar \r\ngroup by rcf.application_id, \r\n         rcf.page_id, \r\n         rcf.region_name, \r\n         rcf.region_id,\r\n         rcf.report_type,\r\n         rcf.created_by,\r\n         rcf.created_on,\r\n         rcf.LAST_updated_by, \r\n         rcf.LAST_updated_on,\r\n         rcf.validation_failure_message,\r\n         rcf.issue_title,\r\n         ar.compatible_apx_version,\r\n         apr.report_template,\r\n         rcf.column_id","OWNER":"SVT","STANDARD_CODE":"ROW_HEADER","ACTIVE_YN":"Y","LEVEL_ID":319367883342218894314577550181439009696,"MV_DEPENDENCY":null,"SVT_COMPONENT_TYPE_ID":5,"EXPLANATION":"Region should have Row Header : One or more columns must have \"Value Identifies Row\" switched on so that screen readers can better describe individual records of a table.","FIX":"At the column level of your report, toggle on “Value Identifies Row” for as many columns is appropriate to uniquely describe the record in human-friendly terms.","VERSION_NUMBER":1,"WORKSPACE":"REDWOOD"}]