[{"ID":312153571812426193655816434380775773898,"STANDARD_ID":2,"TEST_TYPE":"FAIL_REPORT","TEST_NAME":"Region should have Row Header","DISPLAY_SEQUENCE":140,"QUERY_CLOB":"with apx_rl as (\r\n       select case when substr(version_no,1, 2) >= 21\r\n              then 'Y'\r\n              else 'N'\r\n              end compatible_apx_version\r\n       from apex_release\r\n       ),\r\nrpt_cols as (\r\n       select pic.application_id, \r\n              pic.page_id, \r\n              pic.region_name, \r\n              pic.use_as_row_header,\r\n              pic.region_id, \r\n              'IR' report_type,\r\n              pic.created_by,\r\n              pic.created_on,\r\n              pic.updated_by,\r\n              pic.updated_on,\r\n              pic.column_id\r\n       from v_apex_application_page_ir_col pic\r\n       union all\r\n       select pig.application_id, \r\n              pig.page_id, \r\n              pig.region_name, \r\n              pig.use_as_row_header,\r\n              pig.region_id, \r\n              'IG' report_type,\r\n              null created_by,\r\n              null created_on,\r\n              pig.LAST_updated_by,\r\n              pig.LAST_updated_on,\r\n              pig.column_id\r\n       from apex_appl_page_ig_columns pig \r\n       union all\r\n       select prc.application_id, \r\n              prc.page_id, \r\n              prc.region_name, \r\n              prc.use_as_row_header,\r\n              prc.region_id, \r\n              'C' report_type,\r\n              null created_by,\r\n              null created_on,\r\n              prc.LAST_updated_by,\r\n              prc.LAST_updated_on,\r\n              prc.region_report_column_id\r\n       from apex_application_page_rpt_cols prc \r\n),\r\nrpt_cols_fm as (\r\n       select rc.application_id, \r\n              rc.page_id, \r\n              rc.region_name, \r\n              rc.use_as_row_header,\r\n              rc.region_id, \r\n              rc.report_type,\r\n              apex_string.format(\r\n              p_message => q'^Region %0 is missing a row header\r\n              • App : %1\r\n              • Page : %2\r\n              • Region id : %3\r\n              • Explanation : \r\n                     Regions that support row headers should have a column with the \"Use as Row Header\" attribute set to Yes for accessibility reasons.\r\n              ^',\r\n              p0 => rc.region_name,\r\n              p1 => rc.application_id,\r\n              p2 => rc.page_id,\r\n              p3 => rc.region_id\r\n              ) validation_failure_message,\r\n              apex_string.format(\r\n              p_message => q'^Region \"%0\" (app %1, page %2) is missing a row header^',\r\n              p0 => rc.region_name,\r\n              p1 => rc.application_id,\r\n              p2 => rc.page_id\r\n\r\n              ) issue_title,\r\n              app.created_by,\r\n              app.created_on,\r\n              coalesce(pr.LAST_updated_by, app.LAST_updated_by) LAST_updated_by, \r\n              coalesce(pr.LAST_updated_on, app.LAST_updated_on) LAST_updated_on,\r\n              rc.column_id\r\n       from rpt_cols rc \r\n       inner join apex_application_page_regions pr on  pr.region_id = rc.region_id\r\n                                                   and pr.page_id = rc.page_id \r\n                                                   and pr.application_id = rc.application_id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t and coalesce(pr.condition_type_code,'NA') != 'NEVER'\r\n       inner join apex_application_pages app on  app.page_id        = rc.page_id\r\n                                             and app.application_id = rc.application_id\r\n       inner join  v_apex_applications aa on  rc.application_id     = aa.application_id\r\n                                          and aa.availability_status != 'Unavailable'\r\n)\r\nselect case when ar.compatible_apx_version = 'Y'\r\n            then case when count(case when rcf.use_as_row_header = 'Yes'\r\n                                      then 'x'\r\n                                      when rcf.use_as_row_header = 'Y'\r\n                                      then 'x'\r\n                                      end) > 0\r\n                      then 'Y'\r\n                      else case when count(rcf.column_id) = 1\r\n                                then 'Y'\r\n                                else 'N'\r\n                                end\r\n                      end \r\n            else 'Y'\r\n            end pass_yn,\r\n       rcf.application_id, \r\n       rcf.page_id, \r\n       rcf.region_name, \r\n       rcf.region_id,\r\n       rcf.report_type,\r\n       rcf.created_by,\r\n       rcf.created_on,\r\n       rcf.LAST_updated_by, \r\n       rcf.LAST_updated_on,\r\n       rcf.validation_failure_message,\r\n       rcf.issue_title,\r\n       apr.report_template,\r\n       rcf.column_id component_id,\r\n       null parent_component_id\r\nfrom rpt_cols_fm rcf\r\ninner join apex_application_page_regions apr on rcf.region_id = apr.region_id\r\n                                             and apr.report_template not in ('List Item')\r\ncross join apx_rl ar \r\ngroup by rcf.application_id, \r\n         rcf.page_id, \r\n         rcf.region_name, \r\n         rcf.region_id,\r\n         rcf.report_type,\r\n         rcf.created_by,\r\n         rcf.created_on,\r\n         rcf.LAST_updated_by, \r\n         rcf.LAST_updated_on,\r\n         rcf.validation_failure_message,\r\n         rcf.issue_title,\r\n         ar.compatible_apx_version,\r\n         apr.report_template,\r\n         rcf.column_id","OWNER":"SVT","STANDARD_CODE":"ROW_HEADER","ACTIVE_YN":"Y","LEVEL_ID":319367883342218894314577550181439009696,"MV_DEPENDENCY":null,"SVT_COMPONENT_TYPE_ID":5,"EXPLANATION":"Region should have Row Header : One or more columns must have \"Value Identifies Row\" switched on so that screen readers can better describe individual records of a table.","FIX":"At the column level of your report, toggle on “Value Identifies Row” for as many columns is appropriate to uniquely describe the record in human-friendly terms.","VERSION_NUMBER":1,"WORKSPACE":"REDWOOD"}]